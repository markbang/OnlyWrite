@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --font-display: var(--font-display);
  --font-body: var(--font-body);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-selection-bg: var(--selection-bg);
  --color-selection-text: var(--selection-text);
  --color-highlight-primary: var(--highlight-primary);
  --color-highlight-secondary: var(--highlight-secondary);
  --color-hover-overlay: var(--hover-overlay);
  --color-active-overlay: var(--active-overlay);
  --color-syntax-heading: var(--syntax-heading);
  --color-syntax-strong: var(--syntax-strong);
  --color-syntax-emphasis: var(--syntax-emphasis);
  --color-syntax-code-bg: var(--syntax-code-bg);
  --color-syntax-code-text: var(--syntax-code-text);
  --color-syntax-blockquote-border: var(--syntax-blockquote-border);
  --color-syntax-blockquote-bg: var(--syntax-blockquote-bg);
  --color-syntax-link: var(--syntax-link);
  --color-syntax-link-hover: var(--syntax-link-hover);
  --color-syntax-keyword: var(--syntax-keyword);
  --color-syntax-string: var(--syntax-string);
  --color-syntax-number: var(--syntax-number);
  --color-syntax-comment: var(--syntax-comment);
  --color-syntax-function: var(--syntax-function);
  --color-syntax-variable: var(--syntax-variable);
  --color-syntax-operator: var(--syntax-operator);
  --color-syntax-punctuation: var(--syntax-punctuation);
  --color-syntax-tag: var(--syntax-tag);
  --color-syntax-attribute: var(--syntax-attribute);
  --color-syntax-value: var(--syntax-value);
  --color-code-block-bg: var(--code-block-bg);
  --color-code-block-border: var(--code-block-border);
  --color-code-block-header-bg: var(--code-block-header-bg);
  --color-code-block-header-text: var(--code-block-header-text);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
    }
  }

  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }
    to {
      height: 0;
    }
  }
}

:root {
  --radius: 0.625rem;
  --background: oklch(0.99 0.006 95);
  --foreground: oklch(0.15 0.015 260);
  --card: oklch(0.995 0.006 95);
  --card-foreground: oklch(0.18 0.02 260);
  --popover: oklch(0.995 0.006 95);
  --popover-foreground: oklch(0.18 0.02 260);
  --primary: oklch(0.56 0.18 250);
  --primary-foreground: oklch(0.98 0.01 95);
  --secondary: oklch(0.965 0.01 95);
  --secondary-foreground: oklch(0.22 0.02 260);
  --muted: oklch(0.95 0.01 95);
  --muted-foreground: oklch(0.45 0.015 260);
  --accent: oklch(0.94 0.03 220);
  --accent-foreground: oklch(0.2 0.02 260);
  --destructive: oklch(0.58 0.22 27);
  --border: oklch(0.89 0.01 95);
  --input: oklch(0.89 0.01 95);
  --ring: oklch(0.56 0.15 235);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.985 0.006 95);
  --sidebar-foreground: oklch(0.18 0.02 260);
  --sidebar-primary: oklch(0.56 0.18 250);
  --sidebar-primary-foreground: oklch(0.98 0.01 95);
  --sidebar-accent: oklch(0.94 0.03 220);
  --sidebar-accent-foreground: oklch(0.2 0.02 260);
  --sidebar-border: oklch(0.89 0.01 95);
  --sidebar-ring: oklch(0.56 0.15 235);
  
  /* Enhanced selection colors with WCAG AA+ compliance */
  --selection-bg: oklch(0.72 0.15 250);
  --selection-text: oklch(0.98 0.005 95);

  /* Improved highlight colors for better visual distinction */
  --highlight-primary: oklch(0.85 0.12 250);
  --highlight-secondary: oklch(0.94 0.04 95);

  /* Refined interaction states */
  --hover-overlay: oklch(0 0 0 / 0.05);
  --active-overlay: oklch(0 0 0 / 0.08);

  /* Modern syntax highlighting with improved contrast and harmony */
  --syntax-heading: oklch(0.52 0.22 250);
  --syntax-strong: oklch(0.48 0.25 25);
  --syntax-emphasis: oklch(0.58 0.28 300);
  --syntax-code-bg: oklch(0.965 0.008 95);
  --syntax-code-text: oklch(0.35 0.18 270);
  --syntax-blockquote-border: oklch(0.55 0.18 240);
  --syntax-blockquote-bg: oklch(0.97 0.01 95);
  --syntax-link: oklch(0.52 0.22 250);
  --syntax-link-hover: oklch(0.42 0.24 250);

  /* Enhanced code block syntax with WCAG AA contrast */
  --syntax-keyword: oklch(0.58 0.28 300);
  --syntax-string: oklch(0.52 0.20 145);
  --syntax-number: oklch(0.48 0.25 25);
  --syntax-comment: oklch(0.48 0.04 270);
  --syntax-function: oklch(0.42 0.22 260);
  --syntax-variable: oklch(0.38 0.12 270);
  --syntax-operator: oklch(0.42 0.20 270);
  --syntax-punctuation: oklch(0.45 0.06 270);
  --syntax-tag: oklch(0.48 0.25 25);
  --syntax-attribute: oklch(0.52 0.18 290);
  --syntax-value: oklch(0.52 0.20 145);

  /* Improved code block container styling */
  --code-block-bg: oklch(0.972 0.008 95);
  --code-block-border: oklch(0.88 0.012 95);
  --code-block-header-bg: oklch(0.962 0.008 95);
  --code-block-header-text: oklch(0.42 0.06 270);
  
  /* Standardized spacing system */
  --spacing-xs: 0.25rem;    /* 4px */
  --spacing-sm: 0.5rem;     /* 8px */
  --spacing-md: 0.75rem;    /* 12px */
  --spacing-lg: 1rem;       /* 16px */
  --spacing-xl: 1.5rem;     /* 24px */
  --spacing-2xl: 2rem;      /* 32px */
  --spacing-3xl: 3rem;      /* 48px */
  
  /* Visual hierarchy shadows */
  --shadow-subtle: 0 1px 2px 0 oklch(0 0 0 / 0.05);
  --shadow-soft: 0 1px 3px 0 oklch(0 0 0 / 0.1), 0 1px 2px -1px oklch(0 0 0 / 0.1);
  --shadow-medium: 0 4px 6px -1px oklch(0 0 0 / 0.1), 0 2px 4px -2px oklch(0 0 0 / 0.1);
  --shadow-strong: 0 10px 15px -3px oklch(0 0 0 / 0.1), 0 4px 6px -4px oklch(0 0 0 / 0.1);
  
  /* Enhanced border system */
  --border-subtle: oklch(0.95 0.002 286.32);
  --border-soft: oklch(0.92 0.004 286.32);
  --border-medium: oklch(0.88 0.006 286.32);
  --border-strong: oklch(0.82 0.008 286.32);
  
  /* Accessibility-focused color adjustments for WCAG compliance */
  --focus-ring: oklch(0.646 0.222 240);
  --focus-ring-offset: oklch(1 0 0);
  --error-text: oklch(0.45 0.25 27.325);
  --success-text: oklch(0.4 0.2 142);
  --warning-text: oklch(0.35 0.25 85);
  --info-text: oklch(0.4 0.2 240);
  
  /* High contrast mode support */
  --high-contrast-text: oklch(0.05 0.01 285.823);
  --high-contrast-bg: oklch(0.98 0 0);
  --high-contrast-border: oklch(0.2 0.01 285.823);
}

.dark {
  --background: oklch(0.16 0.015 260);
  --foreground: oklch(0.99 0.008 95);
  --card: oklch(0.2 0.02 260);
  --card-foreground: oklch(0.97 0.01 95);
  --popover: oklch(0.2 0.02 260);
  --popover-foreground: oklch(0.97 0.01 95);
  --primary: oklch(0.7 0.18 250);
  --primary-foreground: oklch(0.15 0.02 260);
  --secondary: oklch(0.26 0.02 260);
  --secondary-foreground: oklch(0.96 0.01 95);
  --muted: oklch(0.24 0.02 260);
  --muted-foreground: oklch(0.65 0.015 95);
  --accent: oklch(0.3 0.05 235);
  --accent-foreground: oklch(0.96 0.01 95);
  --destructive: oklch(0.65 0.2 27);
  --border: oklch(0.3 0.02 260 / 0.6);
  --input: oklch(0.3 0.02 260 / 0.8);
  --ring: oklch(0.62 0.12 235);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.2 0.02 260);
  --sidebar-foreground: oklch(0.97 0.01 95);
  --sidebar-primary: oklch(0.7 0.18 250);
  --sidebar-primary-foreground: oklch(0.15 0.02 260);
  --sidebar-accent: oklch(0.3 0.05 235);
  --sidebar-accent-foreground: oklch(0.96 0.01 95);
  --sidebar-border: oklch(0.3 0.02 260 / 0.6);
  --sidebar-ring: oklch(0.62 0.12 235);
  
  /* Enhanced selection colors for dark theme with improved contrast */
  --selection-bg: oklch(0.55 0.18 250);
  --selection-text: oklch(0.99 0.005 95);

  /* Improved highlight colors for dark theme */
  --highlight-primary: oklch(0.42 0.16 250);
  --highlight-secondary: oklch(0.30 0.08 240);

  /* Refined interaction states for dark theme */
  --hover-overlay: oklch(1 0 0 / 0.06);
  --active-overlay: oklch(1 0 0 / 0.12);

  /* Enhanced syntax highlighting colors for dark theme */
  --syntax-heading: oklch(0.82 0.16 250);
  --syntax-strong: oklch(0.90 0.18 30);
  --syntax-emphasis: oklch(0.88 0.20 300);
  --syntax-code-bg: oklch(0.23 0.015 260);
  --syntax-code-text: oklch(0.85 0.18 270);
  --syntax-blockquote-border: oklch(0.75 0.15 240);
  --syntax-blockquote-bg: oklch(0.20 0.01 260);
  --syntax-link: oklch(0.78 0.16 250);
  --syntax-link-hover: oklch(0.90 0.20 250);

  /* Enhanced code block syntax with WCAG AA contrast for dark theme */
  --syntax-keyword: oklch(0.88 0.20 300);
  --syntax-string: oklch(0.78 0.18 145);
  --syntax-number: oklch(0.88 0.18 30);
  --syntax-comment: oklch(0.58 0.06 270);
  --syntax-function: oklch(0.72 0.18 260);
  --syntax-variable: oklch(0.68 0.22 270);
  --syntax-operator: oklch(0.85 0.20 270);
  --syntax-punctuation: oklch(0.60 0.08 270);
  --syntax-tag: oklch(0.88 0.18 30);
  --syntax-attribute: oklch(0.75 0.18 290);
  --syntax-value: oklch(0.78 0.18 145);

  /* Improved code block container styling for dark theme */
  --code-block-bg: oklch(0.22 0.015 260);
  --code-block-border: oklch(1 0 0 / 15%);
  --code-block-header-bg: oklch(0.26 0.015 260);
  --code-block-header-text: oklch(0.65 0.08 270);
  
  /* Dark theme shadows */
  --shadow-subtle: 0 1px 2px 0 oklch(0 0 0 / 0.3);
  --shadow-soft: 0 1px 3px 0 oklch(0 0 0 / 0.4), 0 1px 2px -1px oklch(0 0 0 / 0.4);
  --shadow-medium: 0 4px 6px -1px oklch(0 0 0 / 0.4), 0 2px 4px -2px oklch(0 0 0 / 0.4);
  --shadow-strong: 0 10px 15px -3px oklch(0 0 0 / 0.4), 0 4px 6px -4px oklch(0 0 0 / 0.4);
  
  /* Dark theme enhanced border system */
  --border-subtle: oklch(1 0 0 / 0.05);
  --border-soft: oklch(1 0 0 / 0.1);
  --border-medium: oklch(1 0 0 / 0.15);
  --border-strong: oklch(1 0 0 / 0.2);
  
  /* Dark theme accessibility-focused color adjustments */
  --focus-ring: oklch(0.696 0.17 240);
  --focus-ring-offset: oklch(0.141 0.005 285.823);
  --error-text: oklch(0.704 0.191 22.216);
  --success-text: oklch(0.6 0.18 142);
  --warning-text: oklch(0.65 0.22 85);
  --info-text: oklch(0.696 0.17 240);
  
  /* High contrast mode support for dark theme */
  --high-contrast-text: oklch(0.98 0 0);
  --high-contrast-bg: oklch(0.05 0.01 285.823);
  --high-contrast-border: oklch(0.8 0.01 285.823);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  
  /* Accessibility improvements for screen readers */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
  
  /* Visually hidden but available to screen readers */
  .visually-hidden {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
  }
  
  /* High contrast mode support */
  @media (prefers-contrast: high) {
    :root {
      --background: var(--high-contrast-bg);
      --foreground: var(--high-contrast-text);
      --border: var(--high-contrast-border);
      --ring: var(--high-contrast-text);
    }
    
    .dark {
      --background: var(--high-contrast-bg);
      --foreground: var(--high-contrast-text);
      --border: var(--high-contrast-border);
      --ring: var(--high-contrast-text);
    }
  }
  
  /* Reduced motion support for accessibility */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
    
    /* Disable hover animations for reduced motion */
    button:hover,
    [role="button"]:hover,
    a[href]:hover,
    .file-list-item:hover {
      transform: none !important;
    }
  }
  
  /* Global theme transition optimization with performance improvements */
  *,
  *::before,
  *::after {
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, box-shadow, transform, filter, backdrop-filter;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 200ms;
  }
  
  /* Optimized transition classes for consistent timing and better performance */
  .transition-theme {
    transition: color 200ms cubic-bezier(0.4, 0, 0.2, 1), 
                background-color 200ms cubic-bezier(0.4, 0, 0.2, 1), 
                border-color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .transition-fast {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .transition-smooth {
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Performance optimization: reduce paint operations */
  .will-change-transform {
    will-change: transform;
  }
  
  .will-change-colors {
    will-change: color, background-color, border-color;
  }
  
  /* Prevent transitions on page load */
  .preload * {
    transition: none !important;
  }
  
  body {
    @apply bg-background text-foreground;
    /* Ensure body has smooth transitions */
    transition: background-color 200ms cubic-bezier(0.4, 0, 0.2, 1), color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Root element transitions for theme switching */
  html {
    transition: background-color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Enhanced interaction states for all interactive elements */
  button, 
  [role="button"], 
  input[type="button"], 
  input[type="submit"], 
  input[type="reset"],
  a[href],
  [tabindex]:not([tabindex="-1"]),
  [data-slot="sidebar-menu-button"],
  [data-slot="dropdown-menu-item"] {
    transition: 
      color 150ms cubic-bezier(0.4, 0, 0.2, 1),
      background-color 150ms cubic-bezier(0.4, 0, 0.2, 1),
      border-color 150ms cubic-bezier(0.4, 0, 0.2, 1),
      box-shadow 150ms cubic-bezier(0.4, 0, 0.2, 1),
      transform 100ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Keyboard navigation improvements */
  [tabindex]:not([tabindex="-1"]) {
    position: relative;
  }
  
  /* Enhanced focus management for complex components */
  [role="menu"] [role="menuitem"]:focus,
  [role="listbox"] [role="option"]:focus,
  [role="tree"] [role="treeitem"]:focus,
  [role="grid"] [role="gridcell"]:focus,
  [role="tablist"] [role="tab"]:focus {
    outline: 3px solid var(--focus-ring);
    outline-offset: 2px;
    background-color: var(--accent);
    z-index: 1;
  }
  
  /* Improved focus indicators for form elements */
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    outline: 3px solid var(--focus-ring);
    outline-offset: 2px;
    border-color: var(--focus-ring);
    box-shadow: 0 0 0 1px var(--focus-ring-offset), 0 0 0 4px var(--focus-ring);
  }
  
  /* Focus trap styling for modals and dialogs */
  [role="dialog"]:focus-within,
  [role="alertdialog"]:focus-within {
    outline: none;
  }
  
  /* Ensure focus is visible on all interactive elements */
  button:focus-visible:not(:hover),
  [role="button"]:focus-visible:not(:hover),
  a:focus-visible:not(:hover) {
    background-color: var(--accent);
    color: var(--accent-foreground);
  }
  
  /* Enhanced focus states for accessibility compliance */
  button:focus-visible,
  [role="button"]:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible,
  a:focus-visible,
  [data-slot="sidebar-menu-button"]:focus-visible,
  [data-slot="sidebar-menu-action"]:focus-visible,
  [data-slot="sidebar-menu-sub-button"]:focus-visible,
  [data-slot="dropdown-menu-item"]:focus-visible,
  [tabindex]:not([tabindex="-1"]):focus-visible {
    outline: 3px solid var(--ring);
    outline-offset: 2px;
    border-radius: 6px;
    box-shadow: 0 0 0 1px var(--background), 0 0 0 4px var(--ring);
    transition: 
      outline-color 150ms cubic-bezier(0.4, 0, 0.2, 1),
      box-shadow 150ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* High contrast focus for better visibility */
  @media (prefers-contrast: high) {
    button:focus-visible,
    [role="button"]:focus-visible,
    input:focus-visible,
    textarea:focus-visible,
    select:focus-visible,
    a:focus-visible,
    [data-slot="sidebar-menu-button"]:focus-visible,
    [data-slot="sidebar-menu-action"]:focus-visible,
    [data-slot="sidebar-menu-sub-button"]:focus-visible,
    [data-slot="dropdown-menu-item"]:focus-visible,
    [tabindex]:not([tabindex="-1"]):focus-visible {
      outline: 4px solid var(--foreground);
      outline-offset: 3px;
      box-shadow: 0 0 0 2px var(--background), 0 0 0 6px var(--foreground);
    }
  }
  
  /* Skip to content link for keyboard navigation */
  .skip-to-content {
    position: absolute;
    top: -40px;
    left: 6px;
    background: var(--primary);
    color: var(--primary-foreground);
    padding: 8px 16px;
    text-decoration: none;
    border-radius: 4px;
    z-index: 1000;
    font-weight: 600;
    transition: top 150ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .skip-to-content:focus {
    top: 6px;
  }
  
  /* Input and form element transitions */
  input,
  textarea,
  select {
    transition: 
      color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      background-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      border-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      box-shadow 150ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Optimized hover states for better performance */
  button:not(:disabled):hover,
  [role="button"]:not([aria-disabled="true"]):hover,
  a[href]:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-soft);
  }
  
  button:not(:disabled):active,
  [role="button"]:not([aria-disabled="true"]):active,
  a[href]:active {
    transform: translateY(0px) scale(0.98);
    box-shadow: var(--shadow-subtle);
  }
  
  /* Optimized file list item transitions */
  .file-list-item {
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .file-list-item:hover {
    transform: translateX(2px);
    box-shadow: var(--shadow-soft);
  }
  
  .file-list-item:active {
    transform: translateX(0px) scale(0.98);
    box-shadow: var(--shadow-subtle);
  }
  
  /* Optimized interface section styling */
  .interface-section {
    border: 1px solid var(--border-soft);
    box-shadow: var(--shadow-subtle);
    transition: color 200ms cubic-bezier(0.4, 0, 0.2, 1), 
                background-color 200ms cubic-bezier(0.4, 0, 0.2, 1), 
                border-color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .interface-section:hover {
    border-color: var(--border-medium);
    box-shadow: var(--shadow-soft);
  }
  
  .interface-section-header {
    border-bottom: 1px solid var(--border-subtle);
    background: linear-gradient(to bottom, var(--background), var(--muted));
    padding: var(--spacing-md) var(--spacing-lg);
    transition: color 200ms cubic-bezier(0.4, 0, 0.2, 1), 
                background-color 200ms cubic-bezier(0.4, 0, 0.2, 1), 
                border-color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .interface-section-content {
    padding: var(--spacing-lg);
    transition: color 200ms cubic-bezier(0.4, 0, 0.2, 1), 
                background-color 200ms cubic-bezier(0.4, 0, 0.2, 1), 
                border-color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Consistent spacing utilities */
  .spacing-xs { gap: var(--spacing-xs); }
  .spacing-sm { gap: var(--spacing-sm); }
  .spacing-md { gap: var(--spacing-md); }
  .spacing-lg { gap: var(--spacing-lg); }
  .spacing-xl { gap: var(--spacing-xl); }
  .spacing-2xl { gap: var(--spacing-2xl); }
  .spacing-3xl { gap: var(--spacing-3xl); }
  
  .padding-xs { padding: var(--spacing-xs); }
  .padding-sm { padding: var(--spacing-sm); }
  .padding-md { padding: var(--spacing-md); }
  .padding-lg { padding: var(--spacing-lg); }
  .padding-xl { padding: var(--spacing-xl); }
  .padding-2xl { padding: var(--spacing-2xl); }
  .padding-3xl { padding: var(--spacing-3xl); }
  
  .margin-xs { margin: var(--spacing-xs); }
  .margin-sm { margin: var(--spacing-sm); }
  .margin-md { margin: var(--spacing-md); }
  .margin-lg { margin: var(--spacing-lg); }
  .margin-xl { margin: var(--spacing-xl); }
  .margin-2xl { margin: var(--spacing-2xl); }
  .margin-3xl { margin: var(--spacing-3xl); }
  
  /* Global text selection styling with utility classes for testing */
  ::selection {
    background-color: var(--selection-bg);
    color: var(--selection-text);
  }
  
  ::-moz-selection {
    background-color: var(--selection-bg);
    color: var(--selection-text);
  }
  
  /* Selection utility classes for component consistency */
  .selection-primary {
    @apply selection:bg-primary/20 selection:text-primary-foreground;
  }
  
  .selection-theme {
    @apply selection:bg-selection-bg selection:text-selection-text;
  }
  
  /* Enhanced selection styling for specific elements */
  input::selection,
  textarea::selection,
  [contenteditable]::selection {
    background-color: var(--selection-bg);
    color: var(--selection-text);
  }
  
  input::-moz-selection,
  textarea::-moz-selection,
  [contenteditable]::-moz-selection {
    background-color: var(--selection-bg);
    color: var(--selection-text);
  }
  
  /* Code block selection styling */
  code::selection,
  pre::selection {
    background-color: var(--selection-bg);
    color: var(--selection-text);
  }
  
  code::-moz-selection,
  pre::-moz-selection {
    background-color: var(--selection-bg);
    color: var(--selection-text);
  }
  
  /* Button and interactive element selection */
  button::selection,
  a::selection {
    background-color: var(--selection-bg);
    color: var(--selection-text);
  }
  
  button::-moz-selection,
  a::-moz-selection {
    background-color: var(--selection-bg);
    color: var(--selection-text);
  }
  
  /* Prose content selection (for markdown editor) */
  .prose ::selection {
    background-color: var(--selection-bg);
    color: var(--selection-text);
  }
  
  .prose ::-moz-selection {
    background-color: var(--selection-bg);
    color: var(--selection-text);
  }
  
  /* Sidebar and navigation selection */
  .sidebar ::selection,
  nav ::selection {
    background-color: var(--selection-bg);
    color: var(--selection-text);
  }
  
  .sidebar ::-moz-selection,
  nav ::-moz-selection {
    background-color: var(--selection-bg);
    color: var(--selection-text);
  }
  
  /* File area and list selection */
  .file-area ::selection,
  ul ::selection,
  li ::selection {
    background-color: var(--selection-bg);
    color: var(--selection-text);
  }
  
  .file-area ::-moz-selection,
  ul ::-moz-selection,
  li ::-moz-selection {
    background-color: var(--selection-bg);
    color: var(--selection-text);
  }
  
  /* Table selection */
  table ::selection,
  th ::selection,
  td ::selection {
    background-color: var(--selection-bg);
    color: var(--selection-text);
  }
  
  table ::-moz-selection,
  th ::-moz-selection,
  td ::-moz-selection {
    background-color: var(--selection-bg);
    color: var(--selection-text);
  }
  
  /* Optimized prose styling with consistent theme integration */
  .prose {
    --tw-prose-body: var(--foreground);
    --tw-prose-headings: var(--syntax-heading);
    --tw-prose-lead: var(--muted-foreground);
    --tw-prose-links: var(--syntax-link);
    --tw-prose-bold: var(--syntax-strong);
    --tw-prose-counters: var(--muted-foreground);
    --tw-prose-bullets: var(--muted-foreground);
    --tw-prose-hr: var(--border);
    --tw-prose-quotes: var(--syntax-emphasis);
    --tw-prose-quote-borders: var(--syntax-blockquote-border);
    --tw-prose-captions: var(--muted-foreground);
    --tw-prose-code: var(--syntax-code-text);
    --tw-prose-pre-code: var(--syntax-code-text);
    --tw-prose-pre-bg: var(--code-block-bg);
    --tw-prose-th-borders: var(--border);
    --tw-prose-td-borders: var(--border-subtle);
  }
  
  /* Optimized code block styling */
  .prose pre {
    background-color: var(--code-block-bg) !important;
    border: 1px solid var(--code-block-border);
    border-radius: 0.5rem;
    padding: 1rem;
    margin: 1.5rem 0;
    overflow-x: auto;
    position: relative;
    box-shadow: var(--shadow-subtle);
    transition: color 200ms cubic-bezier(0.4, 0, 0.2, 1), 
                background-color 200ms cubic-bezier(0.4, 0, 0.2, 1), 
                border-color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .prose pre:hover {
    box-shadow: var(--shadow-soft);
    border-color: var(--border-medium);
  }
  
  .prose pre code {
    background-color: transparent !important;
    padding: 0 !important;
    border-radius: 0 !important;
    font-size: 0.875rem;
    line-height: 1.5;
    color: var(--syntax-code-text);
  }
  
  /* Optimized inline code styling */
  .prose code:not(pre code) {
    background-color: var(--syntax-code-bg) !important;
    color: var(--syntax-code-text) !important;
    padding: 0.125rem 0.375rem;
    border-radius: 0.25rem;
    font-size: 0.875em;
    font-weight: 500;
    border: 1px solid var(--border-subtle);
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .prose code:not(pre code):hover {
    background-color: var(--accent);
    border-color: var(--border-soft);
  }
  
  /* Code block language label */
  .prose pre[data-language]::before {
    content: attr(data-language);
    position: absolute;
    top: 0;
    right: 0;
    background-color: var(--code-block-header-bg);
    color: var(--code-block-header-text);
    padding: 0.25rem 0.75rem;
    font-size: 0.75rem;
    font-weight: 500;
    border-bottom-left-radius: 0.25rem;
    border-top-right-radius: 0.5rem;
    border-left: 1px solid var(--code-block-border);
    border-bottom: 1px solid var(--code-block-border);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
  
  /* Optimized syntax highlighting for common tokens */
  .prose .token.keyword,
  .prose .token.control,
  .prose .token.directive,
  .prose .token.important {
    color: var(--syntax-keyword);
    font-weight: 600;
  }
  
  .prose .token.string,
  .prose .token.char,
  .prose .token.attr-value {
    color: var(--syntax-string);
  }
  
  .prose .token.number {
    color: var(--syntax-number);
    font-weight: 500;
  }
  
  .prose .token.comment,
  .prose .token.prolog,
  .prose .token.doctype,
  .prose .token.cdata {
    color: var(--syntax-comment);
    font-style: italic;
  }
  
  .prose .token.function {
    color: var(--syntax-function);
    font-weight: 500;
  }
  
  .prose .token.variable {
    color: var(--syntax-variable);
  }
  
  .prose .token.operator {
    color: var(--syntax-operator);
  }
  
  .prose .token.punctuation {
    color: var(--syntax-punctuation);
  }
  
  .prose .token.tag {
    color: var(--syntax-tag);
    font-weight: 500;
  }
  
  .prose .token.attr-name {
    color: var(--syntax-attribute);
  }
  }
  
  .prose .token.string,
  .prose .token.char,
  .prose .token.attr-value,
  .prose .token.regex {
    color: var(--syntax-string);
  }
  
  .prose .token.number,
  .prose .token.boolean,
  .prose .token.constant {
    color: var(--syntax-number);
    font-weight: 500;
  }
  
  .prose .token.comment,
  .prose .token.prolog,
  .prose .token.doctype,
  .prose .token.cdata {
    color: var(--syntax-comment);
    font-style: italic;
  }
  
  .prose .token.function,
  .prose .token.method,
  .prose .token.class-name {
    color: var(--syntax-function);
    font-weight: 500;
  }
  
  .prose .token.variable,
  .prose .token.parameter {
    color: var(--syntax-variable);
  }
  
  .prose .token.operator,
  .prose .token.entity,
  .prose .token.url {
    color: var(--syntax-operator);
  }
  
  .prose .token.punctuation,
  .prose .token.symbol {
    color: var(--syntax-punctuation);
  }
  
  .prose .token.tag,
  .prose .token.selector {
    color: var(--syntax-tag);
    font-weight: 500;
  }
  
  .prose .token.attr-name,
  .prose .token.property {
    color: var(--syntax-attribute);
  }
  
  .prose .token.inserted {
    color: var(--syntax-string);
    background-color: oklch(from var(--syntax-string) l c h / 0.1);
  }
  
  .prose .token.deleted {
    color: var(--syntax-number);
    background-color: oklch(from var(--syntax-number) l c h / 0.1);
  }
  
  /* Enhanced blockquote styling with optimized transitions */
  .prose blockquote {
    background-color: var(--syntax-blockquote-bg);
    border-left: 4px solid var(--syntax-blockquote-border);
    padding: 1rem 1.5rem;
    margin: 1.5rem 0;
    border-radius: 0 0.5rem 0.5rem 0;
    position: relative;
    transition: 
      background-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      border-color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .prose blockquote:hover {
    background-color: var(--accent);
    border-left-color: var(--primary);
    transition: 
      background-color 150ms cubic-bezier(0.4, 0, 0.2, 1),
      border-color 150ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .prose blockquote p {
    margin: 0;
    color: var(--syntax-emphasis);
    font-style: italic;
  }
  
  /* Enhanced link styling with optimized transitions */
  .prose a {
    color: var(--syntax-link);
    text-decoration: underline;
    text-decoration-color: oklch(from var(--syntax-link) l c h / 0.3);
    text-underline-offset: 0.125em;
    transition: 
      color 150ms cubic-bezier(0.4, 0, 0.2, 1),
      text-decoration-color 150ms cubic-bezier(0.4, 0, 0.2, 1),
      text-underline-offset 100ms cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  
  .prose a:hover {
    color: var(--syntax-link-hover);
    text-decoration-color: var(--syntax-link-hover);
    text-underline-offset: 0.25em;
    transition: 
      color 100ms cubic-bezier(0.4, 0, 0.2, 1),
      text-decoration-color 100ms cubic-bezier(0.4, 0, 0.2, 1),
      text-underline-offset 75ms cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  
  /* Enhanced heading styling with optimized transitions */
  .prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 {
    color: var(--syntax-heading);
    font-weight: 700;
    letter-spacing: -0.025em;
    transition: 
      color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      border-color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .prose h1 {
    border-bottom: 2px solid var(--border-soft);
    padding-bottom: 0.5rem;
  }
  
  .prose h2 {
    border-bottom: 1px solid var(--border-subtle);
    padding-bottom: 0.25rem;
  }
  
  /* Enhanced list styling */
  .prose ul, .prose ol {
    padding-left: 1.5rem;
  }
  
  .prose li {
    margin: 0.5rem 0;
  }
  
  .prose li::marker {
    color: var(--muted-foreground);
  }
  
  /* Enhanced table styling with optimized transitions */
  .prose table {
    border-collapse: collapse;
    border: 1px solid var(--border);
    border-radius: 0.5rem;
    overflow: hidden;
    box-shadow: var(--shadow-subtle);
    transition: 
      border-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      box-shadow 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .prose th {
    background-color: var(--muted);
    color: var(--foreground);
    font-weight: 600;
    padding: 0.75rem 1rem;
    border-bottom: 2px solid var(--border);
    transition: 
      background-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      border-color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .prose td {
    padding: 0.75rem 1rem;
    border-bottom: 1px solid var(--border-subtle);
    transition: 
      background-color 150ms cubic-bezier(0.4, 0, 0.2, 1),
      color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      border-color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .prose tr:hover {
    background-color: var(--accent);
    transition: background-color 100ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Additional transition optimizations for theme switching */
  
  /* Prevent layout shift during theme transitions */
  html.dark,
  html.light {
    transition: background-color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Optimize sidebar transitions */
  [data-sidebar] {
    transition: 
      background-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      border-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Optimize navigation element transitions */
  nav,
  nav * {
    transition: 
      color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      background-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      border-color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Optimize card and panel transitions */
  [class*="card"],
  [class*="panel"],
  [class*="dialog"],
  [class*="popover"] {
    transition: 
      background-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      border-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Optimize dropdown and menu transitions */
  [role="menu"],
  [role="menuitem"],
  [data-radix-collection-item] {
    transition: 
      color 150ms cubic-bezier(0.4, 0, 0.2, 1),
      background-color 150ms cubic-bezier(0.4, 0, 0.2, 1),
      transform 100ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Optimize tooltip transitions */
  [role="tooltip"] {
    transition: 
      opacity 150ms cubic-bezier(0.4, 0, 0.2, 1),
      transform 150ms cubic-bezier(0.4, 0, 0.2, 1),
      background-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Optimize badge and tag transitions */
  [class*="badge"],
  [class*="tag"] {
    transition: 
      color 150ms cubic-bezier(0.4, 0, 0.2, 1),
      background-color 150ms cubic-bezier(0.4, 0, 0.2, 1),
      border-color 150ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Optimize progress and loading element transitions */
  [class*="progress"],
  [class*="loading"],
  [class*="spinner"] {
    transition: 
      color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      background-color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Optimize alert and notification transitions */
  [role="alert"],
  [class*="alert"],
  [class*="notification"] {
    transition: 
      color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      background-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      border-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      opacity 150ms cubic-bezier(0.4, 0, 0.2, 1),
      transform 150ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Optimize switch and checkbox transitions */
  [role="switch"],
  [type="checkbox"],
  [type="radio"] {
    transition: 
      background-color 150ms cubic-bezier(0.4, 0, 0.2, 1),
      border-color 150ms cubic-bezier(0.4, 0, 0.2, 1),
      transform 100ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Optimize slider and range input transitions */
  [type="range"],
  [class*="slider"] {
    transition: 
      background-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      border-color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Optimize tab transitions */
  [role="tab"],
  [role="tabpanel"] {
    transition: 
      color 150ms cubic-bezier(0.4, 0, 0.2, 1),
      background-color 150ms cubic-bezier(0.4, 0, 0.2, 1),
      border-color 150ms cubic-bezier(0.4, 0, 0.2, 1),
      opacity 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Optimize accordion transitions */
  [data-radix-accordion-item],
  [data-radix-accordion-trigger],
  [data-radix-accordion-content] {
    transition: 
      color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      background-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      border-color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Optimize collapsible transitions */
  [data-radix-collapsible-root],
  [data-radix-collapsible-trigger],
  [data-radix-collapsible-content] {
    transition: 
      color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      background-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      border-color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Optimize separator transitions */
  [data-orientation="horizontal"],
  [data-orientation="vertical"],
  hr {
    transition: 
      background-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
      border-color 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Optimize avatar and image transitions */
  [class*="avatar"],
  img {
    transition: 
      opacity 200ms cubic-bezier(0.4, 0, 0.2, 1),
      filter 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Optimize icon transitions */
  svg,
  [class*="icon"] {
    transition: 
      color 150ms cubic-bezier(0.4, 0, 0.2, 1),
      fill 150ms cubic-bezier(0.4, 0, 0.2, 1),
      stroke 150ms cubic-bezier(0.4, 0, 0.2, 1),
      transform 100ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Reduce motion for users who prefer it */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
    
    .preload * {
      transition: none !important;
    }
  }
  
  /* High contrast mode optimizations */
  @media (prefers-contrast: high) {
    * {
      transition-duration: 100ms !important;
    }
  }
  
  /* Performance optimization for complex layouts */
  .complex-layout * {
    will-change: auto;
  }
  
  .complex-layout *:hover,
  .complex-layout *:focus,
  .complex-layout *:active {
    will-change: transform, opacity, background-color, color, border-color;
  }

  /* Accessibility-focused status and error styling */
  .error-message {
    color: var(--error-text);
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  
  .success-message {
    color: var(--success-text);
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  
  .warning-message {
    color: var(--warning-text);
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  
  .info-message {
    color: var(--info-text);
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  
  /* ARIA live region styling */
  [aria-live="polite"],
  [aria-live="assertive"] {
    position: absolute;
    left: -10000px;
    width: 1px;
    height: 1px;
    overflow: hidden;
  }
  
  /* Status announcements that should be visible */
  .status-announcement {
    position: fixed;
    top: 1rem;
    right: 1rem;
    background: var(--card);
    border: 2px solid var(--border);
    border-radius: 0.5rem;
    padding: 1rem;
    box-shadow: var(--shadow-medium);
    z-index: 1000;
    max-width: 400px;
    animation: slideInFromRight 300ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  @keyframes slideInFromRight {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
  
  /* Enhanced form validation styling */
  input[aria-invalid="true"],
  textarea[aria-invalid="true"],
  select[aria-invalid="true"] {
    border-color: var(--error-text);
    box-shadow: 0 0 0 1px var(--error-text);
  }
  
  input[aria-invalid="true"]:focus-visible,
  textarea[aria-invalid="true"]:focus-visible,
  select[aria-invalid="true"]:focus-visible {
    outline-color: var(--error-text);
    box-shadow: 0 0 0 1px var(--background), 0 0 0 4px var(--error-text);
  }
  
  /* Required field indicators */
  .required-field::after {
    content: " *";
    color: var(--error-text);
    font-weight: bold;
  }
  
  /* Improved disabled state styling */
  button:disabled,
  [role="button"][aria-disabled="true"],
  input:disabled,
  textarea:disabled,
  select:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    background-color: var(--muted);
    color: var(--muted-foreground);
    border-color: var(--border-subtle);
  }
  
  /* Loading state accessibility */
  .loading {
    position: relative;
    pointer-events: none;
  }
  
  .loading::after {
    content: "";
    position: absolute;
    inset: 0;
    background: var(--background);
    opacity: 0.7;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  /* Improved tooltip accessibility */
  [role="tooltip"] {
    background: var(--popover);
    color: var(--popover-foreground);
    border: 1px solid var(--border);
    border-radius: 0.375rem;
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
    font-weight: 500;
    box-shadow: var(--shadow-medium);
    z-index: 1000;
    max-width: 300px;
    word-wrap: break-word;
  }
  
  /* Enhanced table accessibility */
  table[role="table"] {
    border-collapse: separate;
    border-spacing: 0;
  }
  
  table[role="table"] th[role="columnheader"] {
    background: var(--muted);
    font-weight: 600;
    text-align: left;
    padding: 0.75rem 1rem;
    border-bottom: 2px solid var(--border);
    position: sticky;
    top: 0;
    z-index: 1;
  }
  
  table[role="table"] td[role="cell"] {
    padding: 0.75rem 1rem;
    border-bottom: 1px solid var(--border-subtle);
  }
  
  table[role="table"] tr:focus-within {
    background: var(--accent);
    outline: 2px solid var(--focus-ring);
    outline-offset: -2px;
  }
  
  /* Sortable column headers */
  th[role="columnheader"][aria-sort] {
    cursor: pointer;
    user-select: none;
  }
  
  th[role="columnheader"][aria-sort]:hover {
    background: var(--accent);
  }
  
  th[role="columnheader"][aria-sort]:focus-visible {
    outline: 3px solid var(--focus-ring);
    outline-offset: -3px;
  }
  
  /* Progress indicators */
  [role="progressbar"] {
    background: var(--muted);
    border-radius: 0.25rem;
    overflow: hidden;
    height: 0.5rem;
  }
  
  [role="progressbar"]::before {
    content: "";
    display: block;
    height: 100%;
    background: var(--primary);
    border-radius: inherit;
    transition: width 300ms cubic-bezier(0.4, 0, 0.2, 1);
    width: var(--progress-value, 0%);
  }
  
  /* Alert styling */
  [role="alert"] {
    padding: 1rem;
    border-radius: 0.5rem;
    border: 2px solid;
    font-weight: 500;
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
  }
  
  [role="alert"].error {
    background: oklch(from var(--error-text) l c h / 0.1);
    border-color: var(--error-text);
    color: var(--error-text);
  }
  
  [role="alert"].success {
    background: oklch(from var(--success-text) l c h / 0.1);
    border-color: var(--success-text);
    color: var(--success-text);
  }
  
  [role="alert"].warning {
    background: oklch(from var(--warning-text) l c h / 0.1);
    border-color: var(--warning-text);
    color: var(--warning-text);
  }
  
  [role="alert"].info {
    background: oklch(from var(--info-text) l c h / 0.1);
    border-color: var(--info-text);
    color: var(--info-text);
  }
  
  /* Enhanced breadcrumb navigation */
  [role="navigation"] ol[role="list"] {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    list-style: none;
    padding: 0;
    margin: 0;
  }
  
  [role="navigation"] ol[role="list"] li {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  
  [role="navigation"] ol[role="list"] li:not(:last-child)::after {
    content: "/";
    color: var(--muted-foreground);
    font-weight: 400;
  }
  
  [role="navigation"] ol[role="list"] a {
    color: var(--foreground);
    text-decoration: none;
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    transition: background-color 150ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  [role="navigation"] ol[role="list"] a:hover {
    background: var(--accent);
  }
  
  [role="navigation"] ol[role="list"] a:focus-visible {
    outline: 2px solid var(--focus-ring);
    outline-offset: 2px;
  }
  
  [role="navigation"] ol[role="list"] a[aria-current="page"] {
    color: var(--muted-foreground);
    cursor: default;
    pointer-events: none;
  }
